/**
 * CSS file for DLR.
 * 
 * Copyright (C) 2013	Linguistic Institute of the Romanian Academy.
 * 
 * 
 */
 
@namespace oxy url("http://www.oxygenxml.com/extensions/author");
@namespace xml url('http://www.w3.org/XML/1998/namespace');
 
* {
	display: block;
}

*:before {
	color: gray;
	font-weight: bold;
}

TEI:before {
    border: 1px solid black;
    background-color: rgb(255, 215, 97);
    padding: 0.2em;
	position: fixed;
    left: 0;  
    display:block;
/*    max-width: 8%;*/
    color: blue;
}

title, author, editor, syll, stress, term, form[type = 'headword'] > orth, form[type = 'grammatical-information-for-plural'] > number, form[type = 'writing'] > oVar,
form[type = 'abbreviation'] > abbr, form[type='pronunciation'] > pRef, case, form[type='details-for-grammatical-information-for-verb'], note, bibl > date, idno, ptr {
	visibility: "-oxy-collapse-text";
}

oxy|comment, form[type = 'headword'] > syll, titleStmt > title, publicationStmt, publicationStmt > *, sourceDesc, sourceDesc > * {
	display: none !important;
}

creation, revisionDesc {
	font-weight: bold;
}

creation > date {
	display: inline;
	font-weight: normal;
}

change {
	font-weight: normal;
}

entry > form, teiHeader, entry > gramGrp, etym, entry > re {
	border: solid 1px black;
	width: 1100px;
	min-height: 100px;
	margin-top: 50px;
	margin-bottom: 20px;
}

orth,form[type = 'headword'] > pron, def, cit, entry > form[type = 'headword'] {
	width: 1000px;
	background-color: #e0e4e5;
	margin-top: 5px;
}

form[type = 'headword'] > pron {
	display: none;
}

sense > xr {
    padding:0 0 10px 0;
}

xr:hover {
	background-color: #e0e4e5;
	width: 1000px;
}

sense > def {
	margin-left: 10px;
	border: solid 1px black;
}

etym > idno {
	display: inline;
}

usg {
	margin-left: 10px;
}

quote {
	margin-left: 10px;
	height: 200px;
}

gramGrp > * {
	display: inline-block;
	margin-right: 10px;
}

pos[value=''] ~ * {
	display: none;
}

form > gramGrp > * {
	display: inline-block;
	margin-top: 10px;
	margin-bottom: 20px;
	margin-right: 10px;
}

form[type = 'grammatical-information'] > * {
	display: inline;
	margin-right: 10px;
}

form[type = 'grammatical-information-for-plural'] > gen, form[type = 'grammatical-information-for-case'] > case {
	margin-left: 10px;	
}

form[type = 'grammatical-information-for-verb'] > mood,
form[type = 'grammatical-information-for-verb'] > tns,
form[type = 'grammatical-information-for-verb'] > per,
form[type = 'details-for-grammatical-information-for-verb'] {
	display: inline;
	margin-right: 10px;
}

bibl {
	margin-left: 10px;
}

bibl > * {
	display: inline-block;
}

etym > note > * {
    display: none;
}

graphic {
    content: oxy_browser(href, oxy_url(attr(url)), width, 1000px, height, 600px);
}

sense > def, citedRange, quote, dictScrap[rend = 'usg'] {
    width: 1000px;
    border: 1px solid black;
    background-color: #ffffff;
    min-height: 100px;
	-oxy-placeholder-content:"a";    
}

sense > def:before {
	min-height: 100px;
	display:block;
	background-color: #cccccc;
	-oxy-append-content:
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
        		icon, url('../../resources/images/Spaced16.png'),
				name, 'Spațiat', 
				description, 'Textul selectat este redat spațiat.', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<hi xmlns="http://www.tei-c.org/ns/1.0" rend="spaced"/>',
				arg-insertLocation, 'caret'
			)
        )        
        ;
}

citedRange:before {
	display: block;
	background-color: #cccccc;
	content: "Localizare în sursă: "
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
        		icon, url('/images/Superscript16.png'),
				name, 'Exponent', 
				description, 'Textul selectat este redat la exponent.', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<hi xmlns="http://www.tei-c.org/ns/1.0" rend="superscript"/>',
				arg-insertLocation, 'caret'
			)
        )
        ;
}

quote:before {
	display:block;
	background-color: #cccccc;
	content: "Citat: "
		oxy_button(
			transparent, true,
			actionContext, caret,
			action, oxy_action(
				icon, url('/images/Bold16.png'),
				name, 'Bold', 
				description, 'Toggles bold styling for the selected fragment.', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<hi xmlns="http://www.tei-c.org/ns/1.0" rend="bold"/>',
				arg-insertLocation, 'caret'
			)
		)
        ;
}

dictScrap[rend ^= 'usg']:before {
	display: block;
	background-color: #ffffff;
	border: 1px solid black;
	-oxy-prepend-content:
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'geo', 
				description, 'geografic', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="geo"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'time', 
				description, 'temporal', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="time"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
			transparent, true,
			actionContext, caret,
			action,  oxy_action(
				name, 'dom', 
				description, 'domeniu', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="dom"/>',
				arg-insertLocation, 'caret'
			)
		)        
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'register style', 
				description, 'registru / stil', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="register style"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'lang', 
				description, 'limba de origine', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="lang"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'gram', 
				description, 'gramatical', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="gram"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'hint', 
				description, 'neclasificat', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="hint"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'coloc', 
				description, 'colocație', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="coloc"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'sem', 
				description, 'semantic', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="sem"/>',
				arg-insertLocation, 'caret'
			)
        )
        oxy_button(
        	transparent, true,
        	actionContext, caret,
        	action, oxy_action(
				name, 'plev', 
				description, 'frecvență', 
				operation, 'ro.sync.ecss.extensions.commons.operations.ToggleSurroundWithElementOperation', 
				arg-element, '<usg xmlns="http://www.tei-c.org/ns/1.0" type="plev"/>',
				arg-insertLocation, 'caret'
			)
        )        
        ;
}

hi, usg {
	display: inline;
	content: oxy_xpath("@style");
}

hi[rend ~= 'bold'] {
	font-weight: bold;
}

hi[rend ~= 'italic'], usg[type ~= 'time dom sem plev'] {
    font-style: italic;
}

hi[rend = 'underline'] {
    text-decoration: underline;
}

hi[rend = 'superscript'] {
    vertical-align: super;
    font-size: smaller;
}

hi[rend = 'spaced'] {
    letter-spacing: 5px;
}

usg {
    background-color: #cccccc;
}

usg[type = 'time'], usg[type = 'dom'], usg[type = 'sem'], usg[type = 'plev'] {
    font-style: italic;
}

usg:before {
    content: attr(type) ": ";
}

bibl > ptr {
	content:
		oxy_editor(type, combo, edit, "@target", values, oxy_xpath(oxy_concat('let $q := lower-case(./text()) return string-join(doc("', oxy_url('${framework}/resources/xml/bibliographic-references.xml'), '")/*/*[contains(lower-case(.), $q)]/@value, ",")')), labels, oxy_xpath(oxy_concat('let $q := lower-case(./text()) return string-join(doc("', oxy_url('${framework}/resources/xml/bibliographic-references.xml'), '")/*/*[contains(lower-case(.), $q)], ",")')), columns, 22, editable, false)
		oxy_editor(type, text, edit, "#text", columns, 10)
		oxy_editor(type, button, action, oxy_action(name, "Căutare", operation, "ro.sync.ecss.extensions.commons.operations.XQueryOperation", arg-action, "After", arg-script, "resources/xquery/get-bibliographic-references.xql"), transparent, true);
}
